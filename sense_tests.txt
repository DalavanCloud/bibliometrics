DELETE /bibliometrics

GET /production/journal/_search

GET /bibliometrics/citation/_search

GET /bibliometrics/_mapping

GET /bibliometrics/_settings
{
  "index": {
    "analysis": {
      "analyzer": {
        "biblioAnalyzer": {
          "type": "custom",
          "tokenizer": "biblioTokenizer1"
        }
      },
      "tokenyzer":{
        "biblioTokenizer1": {
          "type": "lowercase"
        }
      }
    }
  }
}

# GRANTED CITATION BY JOURNAL
GET /bibliometrics/citation/_search?search_type=count
{
  "query": {
    "match": {
      "citing_id": "1519-6984" 
    }
  },
  "aggs": {
    "citing_source": {
      "terms": {
        "field": "citation_source",
        "size": 0
      }
    }
  }
}


# GRANTED CITATION BY JOURNAL
GET /bibliometrics/citation/_search?search_type=count
{
  "query": {
    "match": {
      "citing_id": "1519-6984" 
    }
  },
  "aggs": {
    "citation_source": {
      "terms": {
        "field": "citation_source"
      }
    }
  }
}

# GRANTED CITATION BY JOURNAL And YEAR
GET /bibliometrics/citation/_search?search_type=count
{
  "query": {
    "match": {
      "citing_id": "0034-8910" 
    }
  },
  "aggs": {
    "citation_source": {
      "terms": {
        "field": "citation_source"
      },
      "aggs": {
        "citation_year": {
          "terms": {
            "field": "citation_year",
            "size": 0
          }
        }
      }
    }
  }
}

# GRANTED CITATION BY YEAR And JOURNAL
GET /bibliometrics/citation/_search?search_type=count
{
  "query": {
    "match": {
      "citing_id": "0021-7557" 
    }
  },
  "aggs": {
    "citation_year": {
      "terms": {
        "field": "citation_year"
      },
      "aggs": {
        "citation_source": {
          "terms": {
            "field": "citation_source",
            "size": 0
          }
        }
      }
    }
  }
}

# RECEIVED CITATION BY JOURNAL
GET /bibliometrics/citation/_search?search_type=count
{
  "query": {
    "match": {
      "citation_source": "J. Pediatr. (Rio J.)" 
    }
  },
  "aggs": {
    "citing_source": {
      "terms": {
        "field": "citing_full_title"
      }
    }
  }
}

# RECEIVED CITATION BY JOURNAL 2 VALUES
GET /bibliometrics/citation/_search?search_type=count
{
  "query": {
    "filtered": {
      "filter": {
        "terms": {
        "citation_source": ["Rev. Saúde Pública", "Rev. Saúde públ. (S. Paulo)", "Rev SaúdePúbl S Paulo", "Rev Saude Publica", "Rev. Saúde públ.", "REVISTA DE SAUDE PUBLICA", "Rev Saúde Públ São Paulo", "Rev Saúde públ São Paulo", "Rev Saúde Púb"]
        }
      }
    }
  },
  "aggs": {
    "citing_source": {
      "terms": {
        "field": "citing_full_title"
      }
    }
  }
}

# RECEIVED CITATION BY YEAR 2 VALUES
GET /bibliometrics/citation/_search?search_type=count
{
  "query": {
    "filtered": {
      "filter": {
        "terms": {
        "citation_source": ["Rev. Saúde Pública", "Rev. Saúde públ. (S. Paulo)", "Rev SaúdePúbl S Paulo", "Rev Saude Publica", "Rev. Saúde públ.", "REVISTA DE SAUDE PUBLICA", "Rev Saúde Públ São Paulo", "Rev Saúde públ São Paulo", "Rev Saúde Púb"]
        }
      }
    }
  },
  "aggs": {
    "citing_source": {
      "terms": {
        "field": "citing_year"
      }
    }
  }
}

# RECEIVED CITATION BY JOURNAL FUZZY
GET /bibliometrics/citation/_search?search_type=count
{
  "query": {
    "fuzzy": {
      "citation_source": {
        "value": "Revista Brasileira de História",
        "fuzziness" : 2
      }
    }
  },
  "aggs": {
    "citing_source": {
      "terms": {
        "field": "citation_source",
        "size": 0
      }
    }
  }
}

# RECEIVED CITATION BY YEAR FUZZY
GET /bibliometrics/citation/_search?search_type=count
{
  "query": {
    "bool": {
      "should": [
        {
          "fuzzy": {
            "citation_source": {
              "value": "Revista Saude Publica",
              "fuzziness" : 3,
              "max_expansions": 50
            }
          }
        },
        {
          "fuzzy": {
            "citation_source": {
              "value": "Rev Saude Publica",
              "fuzziness" : 3,
              "max_expansions": 50
            }
          }
        },
        {
          "fuzzy": {
            "citation_source": {
              "value": "Rev de Saude Publica",
              "fuzziness" : 3,
              "max_expansions": 50
            }
          }
        },
        {
          "fuzzy": {
            "citation_source": {
              "value": "Rev Saude Publ",
              "fuzziness" : 3,
              "max_expansions": 50
            }
          }
        },
        {
          "fuzzy": {
            "citation_source": {
              "value": "Revista de Saude Publica",
              "fuzziness" : 3,
              "max_expansions": 50
            }
          }
        }
      ]
    } 
  },

      "aggs": {
        "citing_source": {
          "terms": {
            "field": "citation_year",
             "size": 0
          }
        }
      }
}

# RECEIVED CITATION BY YEAR FUZZY
GET /bibliometrics/citation/_search?search_type=count
{
  "query": {
    "bool": {
      "should": [
        {
          "fuzzy": {
            "citation_source": {
              "value": "Revista Saude Publica",
              "fuzziness" : 3,
              "max_expansions": 50
            }
          }
        },
        {
          "fuzzy": {
            "citation_source": {
              "value": "Rev Saude Publica",
              "fuzziness" : 3,
              "max_expansions": 50
            }
          }
        },
        {
          "fuzzy": {
            "citation_source": {
              "value": "Rev Saude Publ",
              "fuzziness" : 3,
              "max_expansions": 50
            }
          }
        },
        {
          "fuzzy": {
            "citation_source": {
              "value": "Revista de Saude Publica",
              "fuzziness" : 3,
              "max_expansions": 50
            }
          }
        }
      ]
    } 
  },
  "aggs": {
    "citing_year": {
      "terms": {
        "field": "citing_source",
         "size": 0
      }
    }
  }
}

# CITATION FORMS FOR A SPECIFIC JOURNAL
GET /bibliometrics/citation/_search?search_type=count
{
  "query": {
    "bool": {
      "should": [
        {
          "fuzzy": {
            "citation_source": {
              "value": "Braz J Biol",
              "fuzziness" : 3,
              "max_expansions": 50
            }
          }
        },
        {
          "fuzzy": {
            "citation_source": {
              "value": "Braz. J. Biol.",
              "fuzziness" : 3,
              "max_expansions": 50
            }
          }
        },
        {
          "fuzzy": {
            "citation_source": {
              "value": "Brazilian Journal of Biology",
              "fuzziness" : 3,
              "max_expansions": 50
            }
          }
        }
      ]
    } 
  },
  "aggs": {
    "citing_year": {
      "terms": {
        "field": "citation_source",
         "size": 0
      }
    }
  }
}


# CITATION FORMS FOR A SPECIFIC JOURNAL
GET /bibliometrics/citation/_search?search_type=count
{
  "query": {
    "bool": {
      "should": [
        {
          "fuzzy": {
            "citation_source": {
              "value": "Braz J Biol",
              "fuzziness" : 4,
              "max_expansions": 50
            }
          }
        },
        {
          "fuzzy": {
            "citation_source": {
              "value": "Braz. J. Biol.",
              "fuzziness" : 4,
              "max_expansions": 50
            }
          }
        },
        {
          "fuzzy": {
            "citation_source": {
              "value": "Brazilian Journal of Biology",
              "fuzziness" : 4,
              "max_expansions": 50
            }
          }
        }
      ],
      "must_not": [
        {
          "match": {
          "citation_source": "Brazilian Journal of Ecology"
          }
        },
        {
          "match": {
          "citation_source": "Braz J Urol"
          }
        },
        {
          "match": {
            "citation_source": "Brazilian Journal of Geology"
          }
        },
        {
          "match": {
            "citation_source": "Braz J Ecol"
          }
        }
      ]
    }
  },
  "aggs": {
    "citing_year": {
      "terms": {
        "field": "citing_year",
         "size": 0
      },
      "aggs": {
        "citation_year": {
          "terms": {
            "field": "citation_source",
             "size": 0
          }
        }
      }
    }
  }
}